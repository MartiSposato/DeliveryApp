CREATE SCHEMA `DeliveryApp` DEFAULT CHARACTER SET utf8mb4;

USE DeliveryApp;

-- Table: RIDERS

CREATE TABLE RIDERS (
Nombre varchar(100) NOT NULL,

Fecha_de_inicio INT NOT NULL,

Ciudad varchar(50) NOT NULL,

Rider_ID INT NOT NULL,

CONSTRAINT PK_RIDER PRIMARY KEY (Rider_ID)

);

-- Table: ORDENES

CREATE TABLE ORDENES (

Order_ID INT NOT NULL,

Ciudad varchar(50) NOT NULL,

Fecha INT NOT NULL,

Rider_ID INT NOT NULL,

CONSTRAINT PK_ORDENES PRIMARY KEY (Order_ID)

);

-- Table: CASTIGOS

CREATE TABLE CASTIGOS (

Violation_ID INT NOT NULL,

State varchar(100) NOT NULL,

Fecha INT NOT NULL,

Rider_ID INT NOT NULL,

CONSTRAINT PK_CASTIGOS PRIMARY KEY (Violation_ID)

);

-- Table: PAGOS

CREATE TABLE PAGOS (

Concepto varchar(100) NOT NULL,

Monto INT NOT NULL,

Rule_ID INT NOT NULL,

Rider_ID INT NOT NULL,

CONSTRAINT PK_PAGOS PRIMARY KEY (Rule_ID)

);

-- Table: SHIFTS

CREATE TABLE SHIFTS (

Shift_ID INT NOT NULL,

Fecha INT NOT NULL,

Ciudad varchar (50) NULL,

Duracion INT NOT NULL,

Rider_ID INT NOT NULL,

CONSTRAINT PK_SHIFTS PRIMARY KEY (Shift_ID)

);

-- foreign keys 

-- Reference: FK_ORDENES_RIDERS (table: ORDENES)

ALTER TABLE ORDENES ADD CONSTRAINT FK_ORDENES_RIDERS FOREIGN KEY FK_ORDENES_RIDERS (RIDER_ID)

REFERENCES RIDERS (RIDER_ID);

-- Reference: FK_SHIFTS_RIDERS (table: SHIFTS)

ALTER TABLE SHIFTS ADD CONSTRAINT FK_SHIFTS_RIDERS FOREIGN KEY FK_SHIFTS_RIDERS (RIDER_ID)

REFERENCES RIDERS (RIDER_ID);

-- Reference: FK_CASTIGOS_RIDERS (table: CASTIGOS)

ALTER TABLE CASTIGOS ADD CONSTRAINT FK_CASTIGOS_RIDERS FOREIGN KEY FK_CASTIGOS_RIDERS (RIDER_ID)

REFERENCES RIDERS (RIDER_ID);

-- Reference: FK_CASTIGOS_RIDERS (table: CASTIGOS)

ALTER TABLE PAGOS ADD CONSTRAINT FK_PAGOS_RIDERS FOREIGN KEY FK_PAGOS_RIDERS (RIDER_ID)

REFERENCES RIDERS (RIDER_ID);

